{% extends "layout.html" %}

{% block title %}
    Quote
{% endblock %}

{% block main %}
    <span>Cash Balance: {{balance | usd}}</span>
    <span>Grand Total: {{grandTotal | usd}}</span>
    <div class="container">
        <div class="section">
            <table>
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Name</th>
                        <th>Shares</th>
                        <th>Price</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- TODO: Loop through the database entries to display them in this table -->
                    {% for share in shares %}
                    <tr>
                        <td>{{share["symbol"]}}</td>
                        <td>{{share["name"]}}</td>
                        <td>{{share["quantity"]}}</td>
                        <td>{{share["price"] | usd}}</td>
                        <td>{{share["total"] | usd}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <form action="/sell" method="post">
        <div class="mb-3">
            <select class="form-select mx-auto w-auto" name="symbol" id="floatingSelect">
                <option selected>Select Symbol</option>
                {% for share in shares %}
                    <option>{{share["symbol"]}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <input class="form-control mx-auto w-auto" name="shares" placeholder="Shares" type="number" min="0">
        </div>
        <button class="btn btn-primary" type="submit">Sell</button>
    </form>
{% endblock %}